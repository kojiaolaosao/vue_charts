"use strict";(self["webpackChunkvue_echarts"]=self["webpackChunkvue_echarts"]||[]).push([[542],{2542:function(e,r,l){l.r(r),l.d(r,{default:function(){return u}});var o=l(3396),a=l(7139);const t={style:{"font-size":"small",color:"#b4b4b4"}};function s(e,r,l,s,p,c){const i=(0,o.up)("el-table-column"),n=(0,o.up)("el-table");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h1",null,(0,a.zw)(p.recordInfo.title),1),(0,o._)("div",null,[(0,o._)("div",null,(0,a.zw)(p.recordInfo.info),1),(0,o._)("span",t,(0,a.zw)(p.recordInfo.createdTime),1)]),(0,o._)("div",null,[(0,o.Wm)(n,{data:p.scores,"show-summary":"","summary-method":c.getSummaries},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{type:"index",width:"100"}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.colItems,(e=>((0,o.wg)(),(0,o.j4)(i,{sortable:"",prop:e.prop,label:e.label},null,8,["prop","label"])))),256))])),_:1},8,["data","summary-method"])])])}var p=l(6565),c={name:"ScoreTableView",data(){return{recordId:this.$route.query.id,recordInfo:{},scores:[],colItems:[{label:"姓名",prop:"name"},{label:"总分",prop:"totalScore"},{label:"语文",prop:"languages"},{label:"数学",prop:"maths"},{label:"英语",prop:"englishes"},{label:"附加",prop:"addition"},{label:"物理",prop:"physicals"},{label:"历史",prop:"history"},{label:"地理",prop:"geography"},{label:"地赋",prop:"geographyReal"},{label:"政治",prop:"politics"},{label:"政赋",prop:"politicsReal"},{label:"化学",prop:"chemicals"},{label:"化赋",prop:"chemicalsReal"},{label:"生物",prop:"biological"},{label:"生赋",prop:"biologicalReal"},{label:"班级名次",prop:"classRank"},{label:"年级排名",prop:"gradeRank"}]}},mounted(){this.getScoreRecords()},methods:{getScoreRecords(){p.Z.get("/score/getScores/"+this.$route.query.id).then((e=>{this.recordInfo=e.data.data,this.scores=e.data.data.recordEntities,this.filterItems()}))},filterItems(){let e=new Map;for(let r in this.scores[0])e.set(r,!1);this.scores.forEach((r=>{for(let l in r)0!==r[l]&&e.set(l,!0)})),console.log(e),this.colItems=this.colItems.filter((r=>e.get(r.prop)))},getSummaries(e){const{columns:r,data:l}=e,o=[];return r.forEach(((e,r)=>{if(0===r)return void(o[r]="平均分");const a=l.map((r=>Number(r[e.property])));a.every((e=>isNaN(e)))||"gradeRank"===e.property||"classRank"===e.property?o[r]=" ":(o[r]=a.reduce(((e,r)=>{const l=Number(r);return isNaN(l)?e:e+r}),0),o[r]=Math.round(o[r]/a.length*100)/100)})),o}}},i=l(89);const n=(0,i.Z)(c,[["render",s]]);var u=n}}]);
//# sourceMappingURL=542.5efe275d.js.map
"use strict";(self["webpackChunkvue_echarts"]=self["webpackChunkvue_echarts"]||[]).push([[311],{3311:function(e,t,l){l.r(t),l.d(t,{default:function(){return s}});var a=l(3396);const o={class:"dialog-footer"},r={style:{margin:"1%"}};function n(e,t,l,n,i,u){const d=(0,a.up)("el-input"),m=(0,a.up)("el-form-item"),s=(0,a.up)("el-option"),c=(0,a.up)("el-select"),p=(0,a.up)("el-form"),g=(0,a.up)("el-button"),f=(0,a.up)("el-popconfirm"),h=(0,a.up)("el-dialog"),w=(0,a.up)("el-table-column"),b=(0,a.up)("el-table"),v=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(h,{modelValue:i.centerDialogVisible,"onUpdate:modelValue":t[6]||(t[6]=e=>i.centerDialogVisible=e),title:"考试信息",width:"30%","align-center":""},{footer:(0,a.w5)((()=>[(0,a._)("span",o,[(0,a.Wm)(g,{onClick:t[4]||(t[4]=e=>i.centerDialogVisible=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(f,{width:"220","confirm-button-text":"确认","cancel-button-text":"取消","icon-color":"#626AEF",title:"确定要修改嘛?",onConfirm:u.subForm,onCancel:t[5]||(t[5]=e=>i.centerDialogVisible=!1)},{reference:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("确认")])),_:1})])),_:1},8,["onConfirm"])])])),default:(0,a.w5)((()=>[(0,a.Wm)(p,{model:i.nowForm},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:"标题"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:i.nowForm.title,"onUpdate:modelValue":t[0]||(t[0]=e=>i.nowForm.title=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{label:"年级"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:i.nowForm.grade,"onUpdate:modelValue":t[1]||(t[1]=e=>i.nowForm.grade=e)},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(3,(e=>(0,a.Wm)(s,{key:e,label:"高"+e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,{label:"班级"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:i.nowForm.clazz,"onUpdate:modelValue":t[2]||(t[2]=e=>i.nowForm.clazz=e)},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(20,(e=>(0,a.Wm)(s,{key:e,label:e+"班",value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,{label:"备注"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"textarea",modelValue:i.nowForm.info,"onUpdate:modelValue":t[3]||(t[3]=e=>i.nowForm.info=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.Wm)(b,{ref:"multipleTableRef",data:i.tableData,style:{width:"100%"},onSelectionChange:u.handleSelectionChange},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{type:"selection",width:"55"}),(0,a.Wm)(w,{property:"title",label:"标题"}),(0,a.Wm)(w,{property:"grade",label:"年级",filters:i.gradeFilter,"filter-method":u.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(w,{property:"clazz",label:"班级",filters:i.clazzFilter,"filter-method":u.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(w,{property:"info",label:"备注","show-overflow-tooltip":""}),(0,a.Wm)(w,{property:"createdTime",label:"创建时间",sortable:""}),(0,a.Wm)(w,{property:"updatedTime",label:"更新时间",sortable:""}),(0,a.Wm)(w,{fixed:"right",label:"操作",width:"140"},{default:(0,a.w5)((e=>[(0,a.Wm)(f,{width:"220","confirm-button-text":"确认","cancel-button-text":"取消","icon-color":"#626AEF",title:"确定要删除嘛?",onConfirm:t=>u.del(e.$index)},{reference:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"danger",size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"]),(0,a.Wm)(g,{type:"primary",size:"small",onClick:t=>u.update(e.row,e.$index)},{default:(0,a.w5)((()=>[(0,a.Uk)("编辑")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,a._)("div",r,[(0,a.Wm)(v,{background:"",layout:"total,prev, pager, next","pager-count":5,"page-size":i.page.size,"current-page":i.page.current,total:i.page.total,onCurrentChange:u.handleCurrentChange},null,8,["page-size","current-page","total","onCurrentChange"])])])}var i=l(4311),u={name:"manageView",data(){return{tableData:[],clazzFilter:[{text:"1班",value:1},{text:"2班",value:2},{text:"3班",value:3},{text:"4班",value:4},{text:"5班",value:5},{text:"6班",value:6},{text:"7班",value:7},{text:"8班",value:8},{text:"9班",value:9},{text:"10班",value:10},{text:"11班",value:11},{text:"12班",value:12},{text:"13班",value:13},{text:"14班",value:14},{text:"15班",value:15},{text:"16班",value:16},{text:"17班",value:17},{text:"18班",value:18},{text:"19班",value:19},{text:"20班",value:20}],gradeFilter:[{text:"高一",value:1},{text:"高二",value:2},{text:"高三",value:3}],centerDialogVisible:!1,nowForm:null,page:{size:10,current:0,total:0}}},mounted(){this.getAllRecords()},methods:{getAllRecords(){i.Z.post("/score/getPage",this.page).then((e=>{this.tableData=e.data.data.records,this.page.total=e.data.data.total}))},handleSelectionChange(e){this.multipleSelection=e},del(e){i.Z.post("/score/delRecord/"+this.tableData[e].id).then((e=>{e.data.data&&this.$message.success("删除成功"),this.getAllRecords()}))},filterHandler(e,t,l){const a=l["property"];return t[a]===e},update(e,t){this.nowForm=JSON.parse(JSON.stringify(e)),this.centerDialogVisible=!0},subForm(){i.Z.post("/score/updateRecord",this.nowForm).then((e=>{this.getAllRecords()})),this.centerDialogVisible=!1},handleCurrentChange(e){this.page.current=e,this.getAllRecords()}}},d=l(89);const m=(0,d.Z)(u,[["render",n]]);var s=m}}]);
//# sourceMappingURL=311.aafb2989.js.map
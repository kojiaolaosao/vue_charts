"use strict";(self["webpackChunkvue_echarts"]=self["webpackChunkvue_echarts"]||[]).push([[54],{9054:function(e,l,t){t.r(l),t.d(l,{default:function(){return c}});var a=t(3396),n=t(9242);const o={class:"dialog-footer"},r={style:{margin:"1%"}};function u(e,l,t,u,i,d){const s=(0,a.up)("el-input"),m=(0,a.up)("el-form-item"),c=(0,a.up)("el-option"),h=(0,a.up)("el-select"),p=(0,a.up)("el-form"),g=(0,a.up)("el-button"),f=(0,a.up)("el-popconfirm"),w=(0,a.up)("el-dialog"),b=(0,a.up)("el-table-column"),v=(0,a.up)("el-table"),x=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(w,{modelValue:i.centerDialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>i.centerDialogVisible=e),title:"考试信息",width:"30%","align-center":""},{footer:(0,a.w5)((()=>[(0,a._)("span",o,[(0,a.Wm)(g,{onClick:l[3]||(l[3]=e=>i.centerDialogVisible=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(f,{width:"220","confirm-button-text":"确认","cancel-button-text":"取消","icon-color":"#626AEF",title:"确定要修改嘛?",onConfirm:d.subForm,onCancel:l[4]||(l[4]=e=>i.centerDialogVisible=!1)},{reference:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("确认")])),_:1})])),_:1},8,["onConfirm"])])])),default:(0,a.w5)((()=>[(0,a.Wm)(p,{model:i.nowForm},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:"姓名"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:i.nowForm.name,"onUpdate:modelValue":l[0]||(l[0]=e=>i.nowForm.name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{label:"年级"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:i.nowForm.grade,"onUpdate:modelValue":l[1]||(l[1]=e=>i.nowForm.grade=e)},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(3,(e=>(0,a.Wm)(c,{key:e,label:"高"+e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,{label:"班级"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:i.nowForm.clazz,"onUpdate:modelValue":l[2]||(l[2]=e=>i.nowForm.clazz=e)},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(20,(e=>(0,a.Wm)(c,{key:e,label:e+"班",value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a._)("div",null,[(0,a.Wm)(h,{modelValue:i.searchGrade,"onUpdate:modelValue":l[6]||(l[6]=e=>i.searchGrade=e),class:"m-2",placeholder:"请选择年纪",size:"large",clearable:"",style:{float:"left",width:"8%"}},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(3,(e=>(0,a.Wm)(c,{key:e,label:"高"+e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"]),(0,a.Wm)(h,{modelValue:i.searchClazz,"onUpdate:modelValue":l[7]||(l[7]=e=>i.searchClazz=e),class:"m-2",placeholder:"请选择班级",size:"large",clearable:"",style:{float:"left",width:"8%","margin-left":"1%"}},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(20,(e=>(0,a.Wm)(c,{key:e,label:e+"班",value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"]),(0,a.Wm)(s,{size:"large",style:{width:"20%",float:"left",display:"inline-flex","margin-left":"1%"},clearable:"",placeholder:"请输入关键词",modelValue:i.searchIn,"onUpdate:modelValue":l[8]||(l[8]=e=>i.searchIn=e),onKeyup:(0,n.D2)(d.searchRecord,["enter"])},null,8,["modelValue","onKeyup"]),(0,a.Wm)(g,{size:"large",style:{float:"left","margin-left":"1%"},onClick:d.searchRecord},{default:(0,a.w5)((()=>[(0,a.Uk)("搜索")])),_:1},8,["onClick"])]),(0,a._)("div",null,[(0,a.Wm)(v,{ref:"multipleTableRef",data:i.tableData,style:{width:"100%"},onSelectionChange:d.handleSelectionChange},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{type:"selection",width:"55"}),(0,a.Wm)(b,{property:"name",label:"姓名"}),(0,a.Wm)(b,{property:"grade",label:"年级",filters:i.gradeFilter,"filter-method":d.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(b,{property:"clazz",label:"班级",filters:i.clazzFilter,"filter-method":d.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(b,{property:"createdTime",label:"创建时间",sortable:""}),(0,a.Wm)(b,{property:"updatedTime",label:"更新时间",sortable:""}),(0,a.Wm)(b,{fixed:"right",label:"操作",width:"140"},{default:(0,a.w5)((e=>[(0,a.Wm)(f,{width:"220","confirm-button-text":"确认","cancel-button-text":"取消","icon-color":"#626AEF",title:"确定要删除嘛?",onConfirm:l=>d.del(e.$index)},{reference:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"danger",size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"]),(0,a.Wm)(g,{type:"primary",size:"small",onClick:l=>d.update(e.row,e.$index)},{default:(0,a.w5)((()=>[(0,a.Uk)("编辑")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"])]),(0,a._)("div",r,[(0,a.Wm)(x,{background:"",layout:"total,prev, pager, next","pager-count":5,"page-size":i.page.size,"current-page":i.page.current,total:i.page.total,onCurrentChange:d.handleCurrentChange},null,8,["page-size","current-page","total","onCurrentChange"])])])}var i=t(6565),d={name:"studentManage",data(){return{tableData:[],clazzFilter:[{text:"1班",value:1},{text:"2班",value:2},{text:"3班",value:3},{text:"4班",value:4},{text:"5班",value:5},{text:"6班",value:6},{text:"7班",value:7},{text:"8班",value:8},{text:"9班",value:9},{text:"10班",value:10},{text:"11班",value:11},{text:"12班",value:12},{text:"13班",value:13},{text:"14班",value:14},{text:"15班",value:15},{text:"16班",value:16},{text:"17班",value:17},{text:"18班",value:18},{text:"19班",value:19},{text:"20班",value:20}],gradeFilter:[{text:"高一",value:1},{text:"高二",value:2},{text:"高三",value:3}],centerDialogVisible:!1,nowForm:null,searchGrade:null,searchClazz:null,searchIn:"",page:{size:10,current:0,total:0,search:"",grade:null,clazz:null}}},mounted(){this.getAllStudents()},methods:{getAllStudents(){i.Z.post("/student/getPage",this.page).then((e=>{this.tableData=e.data.data.records,this.page.total=e.data.data.total,console.log(e.data.data)}))},handleCurrentChange(e){this.page.current=e,this.getAllStudents()},searchRecord(){this.page.grade=this.searchGrade,this.page.clazz=this.searchClazz,this.page.search=this.searchIn,this.getAllStudents()},handleSelectionChange(e){this.multipleSelection=e},filterHandler(e,l,t){const a=t["property"];return l[a]===e},update(e,l){this.nowForm=JSON.parse(JSON.stringify(e)),this.centerDialogVisible=!0},subForm(){console.log(this.nowForm),i.Z.post("/student/update",this.nowForm).then((e=>{console.log(e),this.getAllStudents()})),this.centerDialogVisible=!1},del(e){i.Z.post("/student/del/"+this.tableData[e].id).then((e=>{e.data.data&&this.$message.success("删除成功"),this.getAllStudents()}))}}},s=t(89);const m=(0,s.Z)(d,[["render",u]]);var c=m}}]);
//# sourceMappingURL=54.f188a77a.js.map